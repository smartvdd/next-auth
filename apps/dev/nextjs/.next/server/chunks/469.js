exports.id=469,exports.ids=[469],exports.modules={28547:e=>{e.exports={footer:"footer_footer__mqdak",navItems:"footer_navItems__kbeQ7",navItemsLeft:"footer_navItemsLeft__32Z_N",navItem:"footer_navItem__6iI_7",footerLogo:"footer_footerLogo__so9J9"}},1560:e=>{e.exports={signedInStatus:"header_signedInStatus__T3rmy",loading:"header_loading__yHdVx",loaded:"header_loaded__iZBVd",signedInText:"header_signedInText__E_Qe9",notSignedInText:"header_notSignedInText__SezUf",avatar:"header_avatar__zMOp5",button:"header_button__0A59G",buttonPrimary:"header_buttonPrimary__pb7Po",navItems:"header_navItems__h_HqL",navItem:"header_navItem__3VVay",header:"header_header__zJOD0",passwordInput:"header_passwordInput__pX1Uq"}},8469:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var n=s(20997),r=s(32004);s(70080);var a=s(22328),o=s.n(a),i=s(1560),l=s.n(i);function c({session:e,signIn:t,signOut:s}){return(0,n.jsxs)("header",{className:l().header,children:[(0,n.jsxs)("div",{className:l().signedInStatus,children:[(0,n.jsx)("img",{src:e?.user?.image??`https://api.dicebear.com/9.x/thumbs/svg?seed=${Math.floor(1e5*Math.random())+1}&randomizeIds=true`,className:l().avatar}),e?.user?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:l().signedInText,children:[(0,n.jsx)("small",{children:"Signed in as"}),(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[e.user?.email," "]}),e.user?.name?`(${e.user.name})`:null]}),s]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:l().notSignedInText,children:"You are not signed in"}),t]})]}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:l().navItems,children:[(0,n.jsx)(o(),{href:"/",className:l().navItem,children:"Home (app)"}),(0,n.jsx)(o(),{className:l().navItem,href:"/dashboard",children:"Dashboard (app)"}),(0,n.jsx)(o(),{className:l().navItem,href:"/policy",children:"Policy (pages)"}),(0,n.jsx)(o(),{className:l().navItem,href:"/credentials",children:"Credentials (pages)"}),(0,n.jsx)(o(),{className:l().navItem,href:"/protected-ssr",children:"getServerSideProps (pages)"}),(0,n.jsx)(o(),{className:l().navItem,href:"/api/examples/protected",children:"API Route (pages)"})]})})]})}var d=s(28547),h=s.n(d);let u=JSON.parse('{"i8":"5.0.0-beta.25"}');function p(){return(0,n.jsx)("footer",{className:h().footer,children:(0,n.jsxs)("ul",{className:h().navItems,children:[(0,n.jsxs)("div",{className:h().navItemsLeft,children:[(0,n.jsxs)("li",{className:h().navItem,children:[(0,n.jsx)("a",{href:"https://authjs.dev",children:"Documentation"}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,n.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,n.jsx)("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})]}),(0,n.jsxs)("li",{className:h().navItem,children:[(0,n.jsx)("a",{href:"https://www.npmjs.com/package/next-auth",children:"NPM"}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,n.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,n.jsx)("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})]}),(0,n.jsxs)("li",{className:h().navItem,children:[(0,n.jsx)("a",{href:"https://github.com/nextauthjs/next-auth-example",children:"GitHub"}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,n.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,n.jsx)("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})]}),(0,n.jsx)("li",{className:h().navItem,children:(0,n.jsx)(o(),{href:"/policy",children:"Policy"})})]}),(0,n.jsxs)("li",{className:h().navItem,style:{margin:"0"},children:[(0,n.jsx)("img",{className:h().footerLogo,src:"https://authjs.dev/img/logo-sm.png",alt:"Auth.js Logo"}),(0,n.jsx)(o(),{href:"https://npmjs.org/package/next-auth",children:u.i8}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,n.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,n.jsx)("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})]})]})})}function x({Component:e,pageProps:t}){return(0,n.jsxs)(r.eA,{session:t.session,basePath:"/auth",children:[(0,n.jsx)(g,{}),(0,n.jsx)(e,{...t}),(0,n.jsx)(p,{})]})}function g(){let{data:e}=(0,r.kP)();return(0,n.jsx)(c,{session:e,signIn:(0,n.jsx)("button",{onClick:()=>(0,r.zB)(),className:l().buttonPrimary,children:"Sign in"}),signOut:(0,n.jsx)("button",{onClick:()=>(0,r.w7)(),className:l().button,children:"Sign out"})})}},70080:()=>{},92082:(e,t,s)=>{"use strict";s.d(t,{Ab:()=>I,BX:()=>T,D7:()=>E,FW:()=>M,GX:()=>A,Hi:()=>u,JK:()=>o,Mq:()=>l,Ng:()=>i,Rk:()=>U,UC:()=>h,V1:()=>k,X0:()=>_,Xp:()=>g,Xw:()=>w,dq:()=>a,dw:()=>V,gS:()=>p,iV:()=>y,j7:()=>C,k7:()=>d,kA:()=>N,l4:()=>n,lA:()=>L,li:()=>j,pI:()=>R,vV:()=>$,xP:()=>v,xQ:()=>c,xo:()=>x,yQ:()=>m,yv:()=>f});class n extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let s=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${s}`}}class r extends n{}r.kind="signIn";class a extends n{}a.type="AdapterError";class o extends n{}o.type="AccessDenied";class i extends n{}i.type="CallbackRouteError";class l extends n{}l.type="ErrorPageLoop";class c extends n{}c.type="EventError";class d extends n{}d.type="InvalidCallbackUrl";class h extends r{constructor(){super(...arguments),this.code="credentials"}}h.type="CredentialsSignin";class u extends n{}u.type="InvalidEndpoints";class p extends n{}p.type="InvalidCheck";class x extends n{}x.type="JWTSessionError";class g extends n{}g.type="MissingAdapter";class v extends n{}v.type="MissingAdapterMethods";class m extends n{}m.type="MissingAuthorize";class f extends n{}f.type="MissingSecret";class w extends r{}w.type="OAuthAccountNotLinked";class y extends r{}y.type="OAuthCallbackError";class _ extends n{}_.type="OAuthProfileParseError";class j extends n{}j.type="SessionTokenError";class b extends r{}b.type="OAuthSignInError";class S extends r{}S.type="EmailSignInError";class k extends n{}k.type="SignOutError";class E extends n{}E.type="UnknownAction";class L extends n{}L.type="UnsupportedStrategy";class I extends n{}I.type="InvalidProvider";class N extends n{}N.type="UntrustedHost";class A extends n{}A.type="Verification";class U extends r{}U.type="MissingCSRF";let P=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);function R(e){return e instanceof n&&P.has(e.type)}class C extends n{}C.type="DuplicateConditionalUI";class T extends n{}T.type="MissingWebAuthnAutocomplete";class $ extends n{}$.type="WebAuthnVerificationError";class M extends r{}M.type="AccountNotLinked";class V extends n{}V.type="ExperimentalFeatureNotEnabled"},32004:(e,t,s)=>{"use strict";s.d(t,{eA:()=>S,zB:()=>j,w7:()=>b,kP:()=>f});var n=s(20997),r=s(16689),a=s(92082);class o extends a.l4{}class i extends a.l4{}async function l(e,t,s,n={}){let r=`${c(t)}/${e}`;try{let e={headers:{"Content-Type":"application/json",...n?.headers?.cookie?{cookie:n.headers.cookie}:{}}};n?.body&&(e.body=JSON.stringify(n.body),e.method="POST");let t=await fetch(r,e),s=await t.json();if(!t.ok)throw s;return s}catch(e){return s.error(new o(e.message,e)),null}}function c(e){return"undefined"==typeof window?`${e.baseUrlServer}${e.basePathServer}`:e.basePath}function d(){return Math.floor(Date.now()/1e3)}function h(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let s=new URL(e||t),n=("/"===s.pathname?t.pathname:s.pathname).replace(/\/$/,""),r=`${s.origin}${n}`;return{origin:s.origin,host:s.host,path:n,base:r,toString:()=>r}}let u={baseUrl:h(process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePath:h(process.env.NEXTAUTH_URL).path,baseUrlServer:h(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePathServer:h(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},p=null;function x(){return new BroadcastChannel("next-auth")}function g(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{}}:(null===p&&(p=x()),p)}let v={debug:console.debug,error:console.error,warn:console.warn},m=r.createContext?.(void 0);function f(e){if(!m)throw Error("React Context is unavailable in Server Components");let t=r.useContext(m),{required:s,onUnauthenticated:n}=e??{},a=s&&"unauthenticated"===t.status;return(r.useEffect(()=>{if(a){let e=`${u.basePath}/signin?${new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href})}`;n?n():window.location.href=e}},[a,n]),a)?{data:t.data,update:t.update,status:"loading"}:t}async function w(e){let t=await l("session",u,v,e);return(e?.broadcast??!0)&&x().postMessage({event:"session",data:{trigger:"getSession"}}),t}async function y(){let e=await l("csrf",u,v);return e?.csrfToken??""}async function _(){return l("providers",u,v)}async function j(e,t,s){let{callbackUrl:n,...r}=t??{},{redirect:a=!0,redirectTo:o=n??window.location.href,...i}=r,l=c(u),d=await _();if(!d){let e=`${l}/error`;window.location.href=e;return}if(!e||!d[e]){let e=`${l}/signin?${new URLSearchParams({callbackUrl:o})}`;window.location.href=e;return}let h=d[e].type;if("webauthn"===h)throw TypeError(`Provider id "${e}" refers to a WebAuthn provider.
Please use \`import { signIn } from "next-auth/webauthn"\` instead.`);let p=`${l}/${"credentials"===h?"callback":"signin"}/${e}`,x=await y(),g=await fetch(`${p}?${new URLSearchParams(s)}`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...i,csrfToken:x,callbackUrl:o})}),v=await g.json();if(a){let e=v.url??o;window.location.href=e,e.includes("#")&&window.location.reload();return}let m=new URL(v.url).searchParams.get("error")??void 0,f=new URL(v.url).searchParams.get("code")??void 0;return g.ok&&await u._getSession({event:"storage"}),{error:m,code:f,status:g.status,ok:g.ok,url:m?null:v.url}}async function b(e){let{redirect:t=!0,redirectTo:s=e?.callbackUrl??window.location.href}=e??{},n=c(u),r=await y(),a=await fetch(`${n}/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:r,callbackUrl:s})}),o=await a.json();if(g().postMessage({event:"session",data:{trigger:"signout"}}),t){let e=o.url??s;window.location.href=e,e.includes("#")&&window.location.reload();return}return await u._getSession({event:"storage"}),o}function S(e){if(!m)throw Error("React Context is unavailable in Server Components");let{children:t,basePath:s,refetchInterval:a,refetchWhenOffline:o}=e;s&&(u.basePath=s);let c=void 0!==e.session;u._lastSync=c?d():0;let[h,p]=r.useState(()=>(c&&(u._session=e.session),e.session)),[x,f]=r.useState(!c);r.useEffect(()=>(u._getSession=async({event:e}={})=>{try{let t="storage"===e;if(t||void 0===u._session){u._lastSync=d(),u._session=await w({broadcast:!t}),p(u._session);return}if(!e||null===u._session||d()<u._lastSync)return;u._lastSync=d(),u._session=await w(),p(u._session)}catch(e){v.error(new i(e.message,e))}finally{f(!1)}},u._getSession(),()=>{u._lastSync=0,u._session=void 0,u._getSession=()=>{}}),[]),r.useEffect(()=>{let e=()=>u._getSession({event:"storage"});return g().addEventListener("message",e),()=>g().removeEventListener("message",e)},[]),r.useEffect(()=>{let{refetchOnWindowFocus:t=!0}=e,s=()=>{t&&"visible"===document.visibilityState&&u._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",s,!1),()=>document.removeEventListener("visibilitychange",s,!1)},[e.refetchOnWindowFocus]);let _=function(){let[e,t]=r.useState("undefined"!=typeof navigator&&navigator.onLine),s=()=>t(!0),n=()=>t(!1);return r.useEffect(()=>(window.addEventListener("online",s),window.addEventListener("offline",n),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}),[]),e}(),j=!1!==o||_;r.useEffect(()=>{if(a&&j){let e=setInterval(()=>{u._session&&u._getSession({event:"poll"})},1e3*a);return()=>clearInterval(e)}},[a,j]);let b=r.useMemo(()=>({data:h,status:x?"loading":h?"authenticated":"unauthenticated",async update(e){if(x)return;f(!0);let t=await l("session",u,v,void 0===e?void 0:{body:{csrfToken:await y(),data:e}});return f(!1),t&&(p(t),g().postMessage({event:"session",data:{trigger:"getSession"}})),t}}),[h,x]);return(0,n.jsx)(m.Provider,{value:b,children:t})}}};